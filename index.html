<!DOCTYPE html>
<html>
<title>DiggersWorld Setup Calculator</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="w3.css">
<style type="text/css">
hr {
    height: 1px;
    color: #123455;
    background-color: #123455;
    border: none;
}

.setup_image {
	width: 50px;
	height: 66px;
}
</style>
<script type="text/javascript">
var pickaxe_sulf_array = [6, 19, 60, 200];
var pickaxe_iron_array = [-2, -6, -18, -54];
var pickaxe_diamond_array = [-1, -3, -9, -28];

var bomb_iron_array = [6, 19, 60, 200];
var bomb_sulf_array = [-2, -6, -18, -54];
var bomb_diamond_array = [-1, -3, -9, -28];

var jackhammer_diamond_array = [21, 70, 225];
var jackhammer_sulf_array = [-9, -33, -100];
var jackhammer_iron_array = [-9, -33, -100];

var membership_income = [0, 0.5, 2];
var membership_bonus_slots = [1, 2, 3];

var hash = window.location.href.split('#').pop();
console.log(hash);

function recalculate() {
	var pickaxe_1 = document.getElementById("pickaxe_1").value;
	var pickaxe_2 = document.getElementById("pickaxe_2").value;
	var bomb_1 = document.getElementById("bomb_1").value;
	var bomb_2 = document.getElementById("bomb_2").value;
	var jackhammer_1 = document.getElementById("jackhammer_1").value;
	var jackhammer_2 = document.getElementById("jackhammer_2").value;
	
	var result_sulf = 0;
	var result_iron = 0;
	var result_diamond = 0;
	
	var income_modifier = 1.0;
	var membership_id = document.getElementById("membership").value;
	
	if (membership_id > 0) {
		income_modifier = 1 + membership_income[membership_id - 1] / 100;
	}
	
	if (pickaxe_1 != 0) {
		result_sulf += pickaxe_sulf_array[pickaxe_1 - 1];
		result_iron += pickaxe_iron_array[pickaxe_1 - 1];
		result_diamond += pickaxe_diamond_array[pickaxe_1 - 1];
		
		document.getElementById("pickaxe_1_result").innerHTML = '<span style="color: green">+' + (Math.round(pickaxe_sulf_array[pickaxe_1 - 1] * income_modifier * 100) / 100) + ' <img src="sulf.png" style="width: 18px; height: 18px;" title="SULF"></span> ' + '<span style="color: red">' +  pickaxe_iron_array[pickaxe_1 - 1] + ' <img src="iron.png" style="width: 18px; height: 18px;" title="IRON"></span> ' + '<span style="color: red">' +  pickaxe_diamond_array[pickaxe_1 - 1] + ' <img src="diamond.png" style="width: 18px; height: 18px;" title="DIAMOND"></span>';

	} else document.getElementById("pickaxe_1_result").innerHTML = "";
	
	if (pickaxe_2 != 0) {
		result_sulf += pickaxe_sulf_array[pickaxe_2 - 1];
		result_iron += pickaxe_iron_array[pickaxe_2 - 1];
		result_diamond += pickaxe_diamond_array[pickaxe_2 - 1];
		
		document.getElementById("pickaxe_2_result").innerHTML = '<span style="color: green">+' + (Math.round(pickaxe_sulf_array[pickaxe_1 - 1] * income_modifier * 100) / 100) + ' <img src="sulf.png" style="width: 18px; height: 18px;" title="SULF"></span> ' + '<span style="color: red">' +  pickaxe_iron_array[pickaxe_2 - 1] + ' <img src="iron.png" style="width: 18px; height: 18px;" title="IRON"></span> ' + '<span style="color: red">' +  pickaxe_diamond_array[pickaxe_2 - 1] + ' <img src="diamond.png" style="width: 18px; height: 18px;" title="DIAMOND"></span>';
		
	}  else document.getElementById("pickaxe_2_result").innerHTML = "";
	
	if (bomb_1 != 0) {
		result_sulf += bomb_sulf_array[bomb_1 - 1];
		result_iron += bomb_iron_array[bomb_1 - 1];
		result_diamond += bomb_diamond_array[bomb_1 - 1];
		
		document.getElementById("bomb_1_result").innerHTML = '<span style="color: red">' +  bomb_sulf_array[bomb_1 - 1] + ' <img src="sulf.png" style="width: 18px; height: 18px;" title="SULF"></span> ' + '<span style="color: green">+' + (Math.round(bomb_iron_array[bomb_1 - 1] * income_modifier * 100) / 100) + ' <img src="iron.png" style="width: 18px; height: 18px;" title="IRON"></span> ' + '<span style="color: red">' +  bomb_diamond_array[bomb_1 - 1] + ' <img src="diamond.png" style="width: 18px; height: 18px;" title="DIAMOND"></span>';
		
	}  else document.getElementById("bomb_1_result").innerHTML = "";
	if (bomb_2 != 0) {
		result_sulf += bomb_sulf_array[bomb_2 - 1];
		result_iron += bomb_iron_array[bomb_2 - 1];
		result_diamond += bomb_diamond_array[bomb_2 - 1];
		
		document.getElementById("bomb_2_result").innerHTML = '<span style="color: red">' +  bomb_sulf_array[bomb_2 - 1] + ' <img src="sulf.png" style="width: 18px; height: 18px;" title="SULF"></span> ' + '<span style="color: green">+' + (Math.round(bomb_iron_array[bomb_1 - 1] * income_modifier * 100) / 100) + ' <img src="iron.png" style="width: 18px; height: 18px;" title="IRON"></span> ' + '<span style="color: red">' +  bomb_diamond_array[bomb_2 - 1] + ' <img src="diamond.png" style="width: 18px; height: 18px;" title="DIAMOND"></span>';
		
	}  else document.getElementById("bomb_2_result").innerHTML = "";
	
	if (jackhammer_1 != 0) {
		result_sulf += jackhammer_sulf_array[jackhammer_1 - 1];
		result_iron += jackhammer_iron_array[jackhammer_1 - 1];
		result_diamond += jackhammer_diamond_array[jackhammer_1 - 1];
		
		document.getElementById("jackhammer_1_result").innerHTML = '<span style="color: red">' +  jackhammer_sulf_array[jackhammer_1 - 1] + ' <img src="sulf.png" style="width: 18px; height: 18px;" title="SULF"></span> ' + '<span style="color: red">' +  jackhammer_iron_array[jackhammer_1 - 1] + ' <img src="iron.png" style="width: 18px; height: 18px;" title="IRON"></span> ' + '<span style="color: green">+' + (Math.round(jackhammer_diamond_array[jackhammer_1 - 1] * income_modifier * 100) / 100) + ' <img src="diamond.png" style="width: 18px; height: 18px;" title="DIAMOND"></span>';
		
	} else document.getElementById("jackhammer_1_result").innerHTML = "";
	if (jackhammer_2 != 0) {
		result_sulf += jackhammer_sulf_array[jackhammer_2 - 1];
		result_iron += jackhammer_iron_array[jackhammer_2 - 1];
		result_diamond += jackhammer_diamond_array[jackhammer_2 - 1];
	
		document.getElementById("jackhammer_2_result").innerHTML = '<span style="color: red">' +  jackhammer_sulf_array[jackhammer_2 - 1] + ' <img src="sulf.png" style="width: 18px; height: 18px;" title="SULF"></span> ' + '<span style="color: red">' +  jackhammer_iron_array[jackhammer_2 - 1] + ' <img src="iron.png" style="width: 18px; height: 18px;" title="IRON"></span> ' + '<span style="color: green">+' + (Math.round(jackhammer_diamond_array[jackhammer_1 - 1] * income_modifier * 100) / 100) + ' <img src="diamond.png" style="width: 18px; height: 18px;" title="DIAMOND"></span>';
		
	} else document.getElementById("jackhammer_2_result").innerHTML = "";
	
	var sulf_color = result_sulf >= 0 ? "green" : "red";
	var iron_color = result_iron >= 0 ? "green" : "red";
	var diamond_color = result_diamond >= 0 ? "green" : "red";
	
	if (result_sulf > 0) result_sulf *= income_modifier;
	if (result_iron > 0) result_iron *= income_modifier;
	if (result_diamond > 0) result_diamond *= income_modifier;
	
	var daily_modifier = document.getElementById("mine_daily").value;
	
	var sulf_daily = Math.round(result_sulf * daily_modifier * 100) / 100;
	var iron_daily = Math.round(result_iron * daily_modifier * 100) / 100;
	var diamond_daily = Math.round(result_diamond * daily_modifier * 100) / 100;
	
	var token_1_price = document.getElementById("token_1_price").value;
	var token_2_price = document.getElementById("token_2_price").value;
	var token_3_price = document.getElementById("token_3_price").value;
	
	// price calculate
	var daily_wax = Math.round((token_1_price * sulf_daily + token_2_price * iron_daily + token_3_price * diamond_daily) * 100) / 100;
	
	document.getElementById("result_wax_daily").innerHTML = daily_wax;
	
	if (result_sulf > 0) result_sulf = "+" + (Math.round(result_sulf * 100) / 100);
	if (result_iron > 0) result_iron = "+" + (Math.round(result_iron * 100) / 100);
	if (result_diamond > 0) result_diamond = "+" + (Math.round(result_diamond * 100) / 100);
	
	if (sulf_daily > 0) sulf_daily = "+" + sulf_daily;
	if (iron_daily > 0) iron_daily = "+" + iron_daily;
	if (diamond_daily > 0) diamond_daily = "+" + diamond_daily;
	
	
	document.getElementById("result_sulf").innerHTML = '<span style="color:' + sulf_color + '">' + result_sulf + '</span>';
	document.getElementById("result_iron").innerHTML = '<span style="color:' + iron_color + '">' + result_iron + '</span>';
	document.getElementById("result_diamond").innerHTML = '<span style="color:' + diamond_color + '">' + result_diamond + '</span>';
	
	document.getElementById("result_sulf_day").innerHTML = '<span style="color:' + sulf_color + '">' + sulf_daily + '</span>';
	document.getElementById("result_iron_day").innerHTML = '<span style="color:' + iron_color + '">' + iron_daily + '</span>';
	document.getElementById("result_diamond_day").innerHTML = '<span style="color:' + diamond_color + '">' + diamond_daily + '</span>';
	
	// Setup
	var setup_sulf = "";
	var setup_iron = "";
	var setup_diamond = "";
	
	if (pickaxe_1 != 0) {
		setup_sulf += " <img src=\"p" + pickaxe_1 + ".webp\" class=\"setup_image\">";
	}
	if (pickaxe_2 != 0) {
		setup_sulf += " <img src=\"p" + pickaxe_2 + ".webp\" class=\"setup_image\">";
	}
	
	if (bomb_1 != 0) {
		setup_iron += " <img src=\"b" + bomb_1 + ".webp\" class=\"setup_image\">";
	}
	if (bomb_2 != 0) {
		setup_iron += " <img src=\"b" + bomb_2 + ".webp\" class=\"setup_image\">";
	}
	
	if (jackhammer_1 != 0) {
		setup_diamond += " <img src=\"j" + jackhammer_1 + ".webp\" class=\"setup_image\">";
	}
	if (jackhammer_2 != 0) {
		setup_diamond += " <img src=\"j" + jackhammer_2 + ".webp\" class=\"setup_image\">";
	}
	
	document.getElementById("setup_sulf").innerHTML = setup_sulf;
	document.getElementById("setup_iron").innerHTML = setup_iron;
	document.getElementById("setup_diamond").innerHTML = setup_diamond;
	
	
}

function membership() {

	var names = ["Stone", "Gold", "Ruby"];
	var fee_reduction = [0.5, 1, 2];
	var skip_cycles = [2, 4, 12];

	
	var membership_id = document.getElementById("membership").value;
	
	if (membership_id > 0) {
		
		var str = '<table class="w3-table w3-striped w3-border w3-centered w3-margin-bottom" style="width: 50%; margin: auto;">' +
			'<tr><td style="font-weight: bold; vertical-align: middle;" colspan="2">' + names[membership_id - 1] + ' membership</td></tr>' +
			'<tr><td>Additional slots:</td><td>' +  membership_bonus_slots[membership_id - 1] + '</td></tr>' +
			'<tr><td>Income bonus:</td><td>' + membership_income[membership_id - 1] + '%</td></tr>' +
			'<tr><td>Fee reduction:</td><td>' + fee_reduction[membership_id - 1] + '%</td></tr>' +
			'<tr><td>Skip cycles:</td><td>' + skip_cycles[membership_id - 1] + '</td></tr>' +
			'<tr><td colspan="2"><img style="width:170px;height:220px;" src="m' + membership_id + '.webp"></td></tr>' +
			'</table>';
	
	
	
		document.getElementById("membership_description").innerHTML = str;
	} else document.getElementById("membership_description").innerHTML = "";

	recalculate();
}
</script>
<body>
<br>

<div class="w3-container w3-margin-bottom" style="text-align: center;">
  <h2>DiggersWorld Setup Calculator</h2>
  <div class="w3-small">(The calculations based on the <a href="https://whitepaper.diggersworld.io/whitepaper/game-nfts" target="_blank">whitepaper</a> <span style="font-weight: bold;">safe mine</span> numbers)</div>
</div>

<div class="w3-row-padding">

<div class="w3-third w3-margin-bottom">
  <ul class="w3-ul w3-border w3-center w3-hover-shadow">
  
    <li class="w3-black w3-large w3-padding-16" title="Produces sulfur"><img src="sulf.png" style="width: 24px; height: 24px;"> PICKAXE</li>
	
    <li class="w3-padding-16"><b>Slot 1</b></li>
    <li class="w3-padding-16">
	
	<select id="pickaxe_1" class="w3-select w3-border" style="text-align: center;" onchange="recalculate()">
	<option value="0" selected>» Select «</option>
	<option value="1" style="color: grey;">Common</option>
	<option value="2" style="color: blue;">Rare</option>
	<option value="3" style="color: purple;">Epic</option>
	<option value="4" style="color: chocolate;">Legendary</option>
	</select>
	
	<span id="pickaxe_1_result" class="w3-small" style="font-weight: bold;"></span>
	
	</li>
   
    <li class="w3-padding-16"><b>Slot 2</b></li>
    <li class="w3-padding-16">
	
	<select id="pickaxe_2" class="w3-select w3-border" style="text-align: center;" onchange="recalculate()">
	<option value="0" selected>» Select «</option>
	<option value="1" style="color: grey;">Common</option>
	<option value="2" style="color: blue;">Rare</option>
	<option value="3" style="color: purple;">Epic</option>
	<option value="4" style="color: chocolate;">Legendary</option>
	</select>
	
	<span id="pickaxe_2_result" class="w3-small" style="font-weight: bold;"></span>
	
	</li>
   
  </ul>
</div>

<div class="w3-third w3-margin-bottom">
  
  <ul class="w3-ul w3-border w3-center w3-hover-shadow">
    <li class="w3-black w3-large w3-padding-16" title="Produces iron"><img src="iron.png" style="width: 24px; height: 24px;"> BOMB</li>
   
    <li class="w3-padding-16"><b>Slot 1</b></li>
    <li class="w3-padding-16">
	
	<select id="bomb_1" class="w3-select w3-border" style="text-align: center;" onchange="recalculate()">
	<option value="0" selected>» Select «</option>
	<option value="1" style="color: grey;">Common</option>
	<option value="2" style="color: blue;">Rare</option>
	<option value="3" style="color: purple;">Epic</option>
	<option value="4" style="color: chocolate;">Legendary</option>
	</select>
	
	<span id="bomb_1_result" class="w3-small" style="font-weight: bold;"></span>
	
	</li>
   
    <li class="w3-padding-16"><b>Slot 2</b></li>
    <li class="w3-padding-16">
	
	<select id="bomb_2" class="w3-select w3-border" style="text-align: center;" onchange="recalculate()">
	<option value="0" selected>» Select «</option>
	<option value="1" style="color: grey;">Common</option>
	<option value="2" style="color: blue;">Rare</option>
	<option value="3" style="color: purple;">Epic</option>
	<option value="4" style="color: chocolate;">Legendary</option>
	</select>
	
	<span id="bomb_2_result" class="w3-small" style="font-weight: bold;"></span>
	
	</li>
   
  
  </ul>
</div>

<div class="w3-third w3-margin-bottom">
  <ul class="w3-ul w3-border w3-center w3-hover-shadow">
    <li class="w3-black w3-large w3-padding-16" title="Produces diamond"><img src="diamond.png" style="width: 24px; height: 24px;"> JACKHAMMER</li>
    
	<li class="w3-padding-16"><b>Slot 1</b></li>
    <li class="w3-padding-16">
	
	<select id="jackhammer_1" class="w3-select w3-border" style="text-align: center;" onchange="recalculate()">
	<option value="0" selected>» Select «</option>
	<option value="1" style="color: blue;">Rare</option>
	<option value="2" style="color: purple;">Epic</option>
	<option value="3" style="color: chocolate;">Legendary</option>
	</select>
	
	<span id="jackhammer_1_result" class="w3-small" style="font-weight: bold;"></span>
	
	</li>
   
    <li class="w3-padding-16"><b>Slot 2</b></li>
    <li class="w3-padding-16">
	
	<select id="jackhammer_2" class="w3-select w3-border" style="text-align: center;" onchange="recalculate()">
	<option value="0" selected>» Select «</option>
	<option value="1" style="color: blue;">Rare</option>
	<option value="2" style="color: purple;">Epic</option>
	<option value="3" style="color: chocolate;">Legendary</option>
	</select>
	
	<span id="jackhammer_2_result" class="w3-small" style="font-weight: bold;"></span>
	
	</li>
	
  </ul>
</div>
  

</div>

<hr>

<div class="w3-row-padding w3-center">

<h2>Result:</h2>
<div class="w3-small w3-margin-bottom">(resource profit includes repair cost)</div>

<table class="w3-table w3-striped w3-border w3-centered w3-margin-bottom" style="width: 50%; margin: auto;">
<thead>
    <tr class="w3-light-grey">
	  <th>&nbsp;</th>
      <th><img src="sulf.png" style="width: 24px; height: 24px;"> SULFUR</th>
      <th><img src="iron.png" style="width: 24px; height: 24px;"> IRON</th>
      <th><img src="diamond.png" style="width: 24px; height: 24px;"> DIAMOND</th>
    </tr>
</thead>
	<tr>
	  <td style="font-weight: bold; vertical-align: middle;">Setup</td>
      <td id="setup_sulf">-</td>
      <td id="setup_iron">-</td>
      <td id="setup_diamond">-</td>
    </tr>
    <tr>
	  <td style="font-weight: bold;">Per hour</td>
      <td id="result_sulf">-</td>
      <td id="result_iron">-</td>
      <td id="result_diamond">-</td>
    </tr>
	<tr>
	  <td style="font-weight: bold;">Play hours / day?</td>
      <td colspan="3">
		<select id="mine_daily" onchange="recalculate()">
			<option value="24" selected>24</option>
			<option value="23">23</option>
			<option value="22">22</option>
			<option value="21">21</option>
			<option value="20">20</option>
			<option value="19">19</option>
			<option value="18">18</option>
			<option value="17">17</option>
			<option value="16">16</option>
			<option value="15">15</option>
			<option value="14">14</option>
			<option value="13">13</option>
			<option value="12">12</option>
			<option value="11">11</option>
			<option value="10">10</option>
			<option value="9">9</option>
			<option value="8">8</option>
			<option value="7">7</option>
			<option value="6">6</option>
			<option value="5">5</option>
			<option value="4">4</option>
			<option value="3">3</option>
			<option value="2">2</option>
			<option value="1">1</option>
		</select> hours
	  </td>
    </tr>
	<tr>
	  <td style="font-weight: bold;">Per day</td>
      <td id="result_sulf_day">-</td>
      <td id="result_iron_day">-</td>
      <td id="result_diamond_day">-</td>
    </tr>
	
	<tr>
	  <td style="font-weight: bold;">Example token price</td>
      <td id="result_sulf"><input type="number" step="0.01" value="0.20" min="0" max="10" style="width: 80px; text-align: center;" id="token_1_price" onchange="recalculate()"> WAX</td>
      <td id="result_iron"><input type="number" step="0.01" value="0.20" min="0" max="10" style="width: 80px; text-align: center;" id="token_2_price" onchange="recalculate()"> WAX</td>
      <td id="result_diamond"><input type="number" step="0.01" value="0.30" min="0" max="10" style="width: 80px; text-align: center;" id="token_3_price" onchange="recalculate()"> WAX</td>
    </tr>
	
	<tr>
	  <td style="font-weight: bold;">Daily WAX profit</td>
      <td style="text-align: center; font-weight: bold;" colspan="3"><span id="result_wax_daily">?</span> WAX</td>
    </tr>
	
  </table>
  <br>
  
  <h2>Use Membership</h2>
  <table class="w3-table w3-border w3-centered w3-margin-bottom" style="width: 50%; margin: auto;">
		<tr class="w3-light-gray">
			<td>
			<select id="membership" class="w3-select w3-border" style="text-align: center;" onchange="membership()">
				<option value="0" selected>» Select membership «</option>
				<option value="1" style="color: grey;">Stone</option>
				<option value="2" style="color: chocolate;">Gold</option>
				<option value="3" style="color: red;">Ruby</option>
			</select>
			</td>
		</tr>
		<tr>
		<td id="membership_description"></td>
		</tr>
</table>

<br>
  
</div>

</body>
</html> 
